<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" sdk, query">
<title>Queries | Bitmark Documentation</title>

<link rel="stylesheet" href="/css/syntax.css">

<link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">-->
<link rel="stylesheet" href="/css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="/css/bootstrap.min.3.3.7.css" crossorigin="anonymous">
<link rel="stylesheet" href="/css/customstyles.css">
<link rel="stylesheet" href="/css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="/css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="/js/toc.js"></script>
<script src="/js/customscripts.js"></script>

<link rel="shortcut icon" href="/assets/images/favicon.ico">

<link rel="stylesheet" href="/css/uikit.min.css" />
<script src="/js/uikit.min.js"></script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="docs" href="/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 250,
                    easing: 'swing'
                }
            });

            // expand first level at indexes [0,3,7]
            $("#mysidebar").navgoco('toggle', true, 0, 3, 7);

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-8');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/index.html"><span class="projectTitle home-logo">Bitmark<!-- <img src="/assets/images/Bitmark_Logo-desktop_white.svg" alt="Bitmark logo"/> --><!-- Home --></span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <!-- <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li> -->
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://registry.bitmark.com/" target="_blank" rel="noopener">Registry</a></li>
                
                
                
                <li><a href="https://bitmark.com/products/bitmark-protocol/faq/" target="_blank" rel="noopener">FAQ</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                <!-- 
			<li>



  <a class="email" title="Submit feedback" href="#" target="_blank" onclick="javascript:window.location='mailto:support@bitmark.com?subject=Bitmark Inc feedback&body=I have some feedback about the Queries page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Need help?</a>

</li>

		 -->
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="/js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: '/search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Queries">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-4" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
  <li>
      <a class="sidebar-title" title="Register & Control data" href="#">Register & Control data</a>
      <ul class="sidebar-list">
          
          
          
          <li><a title="Register data" href="/register-and-control-data/register-data"><b>Register data</b></a></li>
          
          
          
          
          
          
          <li><a title="Control access" href="/register-and-control-data/control-access"><b>Control access</b></a></li>
          
          
          
          
          
          
          <li><a title="Transfer rights" href="/register-and-control-data/transfer-rights"><b>Transfer rights</b></a></li>
          
          
          
          
          
          
          <li><a title="Share rights" href="/register-and-control-data/share-rights"><b>Share rights</b></a></li>
          
          
          
          
          
          
          <li><a title="Run a Node" href="/register-and-control-data/run-a-node"><b>Run a Node</b></a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="sidebar-title" title="Explore the Protocol Docs" href="#">Explore the Protocol Docs</a>
      <ul class="sidebar-list">
          
          
          
          <li><a title="Blockchain Overview" href="/explore-the-protocol-docs/blockchain-overview"><b>Blockchain Overview</b></a></li>
          
          
          
          
          
          
          <li><a title="Block Validation and Synchronization" href="/explore-the-protocol-docs/block-verification-and-synchronization"><b>Block Validation and Synchronization</b></a></li>
          
          
          
          
          
          
          <li><a title="Block Mining" href="/explore-the-protocol-docs/block-mining"><b>Block Mining</b></a></li>
          
          
          
          
          
          
          <li><a title="Payment Verification" href="/explore-the-protocol-docs/payment-verification"><b>Payment Verification</b></a></li>
          
          
          
          
          
          
          <li><a title="Storage Databases" href="/explore-the-protocol-docs/storage-databases"><b>Storage Databases</b></a></li>
          
          
          
          
          
          
          <li><a title="Blockchain Security" href="/explore-the-protocol-docs/blockchain-security"><b>Blockchain Security</b></a></li>
          
          
          
          
          
          
          <li><a title="RPC Communication" href="/explore-the-protocol-docs/rpc-communication"><b>RPC Communication</b></a></li>
          
          
          
          
          
          
          <li><a title="Glossary" href="/explore-the-protocol-docs/glossary"><b>Glossary</b></a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="sidebar-title" title="Read our Papers" href="#">Read our Papers</a>
      <ul class="sidebar-list">
          
          
          
          <li><a title="Bitmark versus Ethereum" href="/read-our-papers/bitmark-eth-comparison"><b>Bitmark versus Ethereum</b></a></li>
          
          
          
          
          
          
          <li><a title="White Papers" href="/read-our-papers/white-papers"><b>White Papers</b></a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="sidebar-title" title="Contribute to the Protocol" href="#">Contribute to the Protocol</a>
      <ul class="sidebar-list">
          
          
          
          <li><a title="Contribute to the Protocol" href="/contribute-to-the-protocol"><b>Contribute to the Protocol</b></a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="sidebar-title" title="Browse our FAQ" href="#">Browse our FAQ</a>
      <ul class="sidebar-list">
          
          
          
          <li><a title="Bitmark Protocol FAQ" href="/browse-our-faq/bitmark-protocol-faq"><b>Bitmark Protocol FAQ</b></a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-8" id="tg-sb-content">
            <!-- <div class="post-header">
   <h1 class="post-title-main">Queries</h1>
</div> -->



<div class="post-content">

   


    

    <div class="row">
        <div class="col-md-9 page-article"><h1 id="queries">Queries</h1>

<p>The Bitmark SDK support queries about assets, bitmarks, and transactions (txs), which are records that are created or updated when different actions (register, issue, or transfer) occur.</p>

<p>For the retrieval of a single record, use the record ID (<code class="language-plaintext highlighter-rouge">asset_id</code> for an asset, <code class="language-plaintext highlighter-rouge">bitmark_id</code> for a bitmark, or <code class="language-plaintext highlighter-rouge">tx_id</code> for a transaction) with the standard function to retrieve that specific record.</p>

<p>For the retrieval of a collection of records, use one of several query functions to select a set of records based on specific criteria.</p>

<p>All records support the following filters:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">pending</code>: determines whether to include pending records that are not yet added to the blockchain</li>
  <li><code class="language-plaintext highlighter-rouge">limit</code>: sets the maximum number of records to be returned in one query</li>
  <li><code class="language-plaintext highlighter-rouge">offset</code>: returns the records that are updated subsequently</li>
</ul>

<!-- TODO: explain how to iterate all records -->

<p>Both bitmark and transaction record can be linked to a fundamental asset record, so they support two extra query parameters:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">referenced_asset</code>: specifies the asset ID that the records link to</li>
  <li><code class="language-plaintext highlighter-rouge">load_asset</code>: determines whether to include referenced asset objects</li>
</ul>

<p>The actual query functions could be in snake case or camel case depends on which SDK is used. For simplicity, the camel case is used for explanation.</p>

<h2 id="asset">Asset</h2>

<p>An asset record is available when it’s registered and there is at least one accompanying bitmark issuance.</p>

<h3 id="record-data-structure">Record data structure</h3>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>The asset ID</td>
    </tr>
    <tr>
      <td>name</td>
      <td>The asset name</td>
    </tr>
    <tr>
      <td>metadata</td>
      <td>The asset metadata, described by key-value pairs</td>
    </tr>
    <tr>
      <td>fingerprint</td>
      <td>The hash value of the asset content, which serves as the unique identifier for the asset record in the blockchain</td>
    </tr>
    <tr>
      <td>registrant</td>
      <td>The account registering the asset</td>
    </tr>
    <tr>
      <td>status</td>
      <td>The status on the blockchain, which has possible values of <code class="language-plaintext highlighter-rouge">pending</code> or <code class="language-plaintext highlighter-rouge">confirmed</code></td>
    </tr>
    <tr>
      <td>block_number</td>
      <td>The block that incorporates the asset record</td>
    </tr>
    <tr>
      <td>offset</td>
      <td>An auto-incremental number, which increments when the data is updated</td>
    </tr>
    <tr>
      <td>created_at</td>
      <td>The time when the asset status becomes <code class="language-plaintext highlighter-rouge">confirmed</code></td>
    </tr>
  </tbody>
</table>

<h3 id="querying-for-a-specific-asset">Querying for a specific asset</h3>

<ul class="uk-tab" data-uk-switcher="{connect:'#99ed9b84-98c3-41ab-a1b7-36df487cc74b'}">

	<li class="uk-active"><a href="#">JS</a></li>

	<li><a href="#">Swift</a></li>

	<li><a href="#">Go</a></li>

	<li><a href="#">Java</a></li>

</ul>

<ul id="99ed9b84-98c3-41ab-a1b7-36df487cc74b" class="uk-switcher uk-margin">

	<li>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Asset</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">assetId</span><span class="p">);</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="kt">Asset</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">assetID</span><span class="p">:</span> <span class="n">assetId</span><span class="p">)</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">(</span>
	<span class="s">"github.com/bitmark-inc/bitmark-sdk-go/asset"</span>
<span class="p">)</span>

<span class="c">// This sample assumes the SDK is already correctly initialized</span>
<span class="k">func</span> <span class="n">getAssetExample</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">asset</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">asset</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="n">assetId</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Asset</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">assetId</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Callback1</span><span class="o">&lt;</span><span class="nc">AssetRecord</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">AssetRecord</span> <span class="n">asset</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">Throwable</span> <span class="n">throwable</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</code></pre></div></div>
</li>

</ul>

<h3 id="querying-for-a-set-of-assets">Querying for a set of assets</h3>

<h4 id="assets-registered-by-the-specific-registrant">Assets registered by the specific registrant</h4>

<p>To retrieve a set of all assets registered by a specific account, use the account number of the registrant as the query argument.</p>

<ul class="uk-tab" data-uk-switcher="{connect:'#8c18363c-f474-4112-88ea-e80f3832a86b'}">

	<li class="uk-active"><a href="#">JS</a></li>

	<li><a href="#">Swift</a></li>

	<li><a href="#">Go</a></li>

	<li><a href="#">Java</a></li>

</ul>

<ul id="8c18363c-f474-4112-88ea-e80f3832a86b" class="uk-switcher uk-margin">

	<li>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">assetQueryParams</span> <span class="o">=</span> <span class="nx">Asset</span><span class="p">.</span><span class="nx">newAssetQueryBuilder</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">registeredBy</span><span class="p">(</span><span class="dl">"</span><span class="s2">ec6yMcJATX6gjNwvqp8rbc4jNEasoUgbfBBGGyV5NvoJ54NXva</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">pending</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">limit</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">build</span><span class="p">();</span>

<span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Asset</span><span class="p">.</span><span class="nx">list</span><span class="p">(</span><span class="nx">assetQueryParams</span><span class="p">);</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">params</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Asset</span><span class="o">.</span><span class="nf">newQueryParams</span><span class="p">()</span>
                <span class="o">.</span><span class="nf">limit</span><span class="p">(</span><span class="nv">size</span><span class="p">:</span> <span class="mi">100</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">registeredBy</span><span class="p">(</span><span class="nv">registrant</span><span class="p">:</span> <span class="s">"ec6yMcJATX6gjNwvqp8rbc4jNEasoUgbfBBGGyV5NvoJ54NXva"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">assets</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Asset</span><span class="o">.</span><span class="nf">list</span><span class="p">(</span><span class="nv">params</span><span class="p">:</span> <span class="n">params</span><span class="p">)</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">// import bmAsset "github.com/bitmark-inc/bitmark-sdk-go/asset"</span>
<span class="n">params</span> <span class="o">:=</span> <span class="n">bmAsset</span><span class="o">.</span><span class="n">NewQueryParamsBuilder</span><span class="p">()</span><span class="o">.</span>
		<span class="n">RegisteredBy</span><span class="p">(</span><span class="s">"ec6yMcJATX6gjNwvqp8rbc4jNEasoUgbfBBGGyV5NvoJ54NXva"</span><span class="p">)</span><span class="o">.</span>
		<span class="n">Limit</span><span class="p">(</span><span class="m">10</span><span class="p">)</span>
<span class="n">assets</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">bmAsset</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">AssetQueryBuilder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AssetQueryBuilder</span><span class="o">().</span><span class="na">limit</span><span class="o">(</span><span class="n">limit</span><span class="o">).</span><span class="na">registeredBy</span><span class="o">(</span><span class="n">registrant</span><span class="o">);</span>
<span class="nc">Asset</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">builder</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Callback1</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">AssetRecord</span><span class="o">&gt;&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">AssetRecord</span><span class="o">&gt;</span> <span class="n">assets</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">Throwable</span> <span class="n">throwable</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</code></pre></div></div>
</li>

</ul>

<h2 id="transaction-tx">Transaction (tx)</h2>

<p>A new transaction record is generated when one of the following actions occurs:</p>

<ul>
  <li>a new bitmark is issued</li>
  <li>a bitmark is transferred</li>
  <li>an offer is accepted</li>
</ul>

<p>Actions that are applied to the same bitmark will create a chain of transactions linked by <code class="language-plaintext highlighter-rouge">previous_id</code> (See <a href="###-Record-data-structure">Record data structure</a>).</p>

<p><img src="/pages/bitmark-references/bitmark-sdk/record_tx.png" alt="a chain of transaction records" /></p>

<h3 id="record-data-structure-1">Record data structure</h3>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>The tx ID</td>
    </tr>
    <tr>
      <td>owner</td>
      <td>The account owning the bitmark</td>
    </tr>
    <tr>
      <td>previous_id</td>
      <td>A link to the previous tx (ignored for issue tx)</td>
    </tr>
    <tr>
      <td>previous_owner</td>
      <td>The previous owner of the bitmark (ignored for issue tx)</td>
    </tr>
    <tr>
      <td>bitmark_id</td>
      <td>A link to the bitmark that this tx is applied to</td>
    </tr>
    <tr>
      <td>asset_id</td>
      <td>The asset ID</td>
    </tr>
    <tr>
      <td>status</td>
      <td>The status on the blockchain, which has possible values of <code class="language-plaintext highlighter-rouge">pending</code> or <code class="language-plaintext highlighter-rouge">confirmed</code></td>
    </tr>
    <tr>
      <td>block_number</td>
      <td>The block that incorporates the tx record</td>
    </tr>
    <tr>
      <td>offset</td>
      <td>An auto-incremental number that increments when the data is updated</td>
    </tr>
    <tr>
      <td>confirmation</td>
      <td>the number of blocks in the blockchain that have been accepted by the network since the block that includes the transaction</td>
    </tr>
    <tr>
      <td>countersign</td>
      <td>Whether this tx is a two-signature transfer</td>
    </tr>
  </tbody>
</table>

<h3 id="querying-for-a-specific-transaction">Querying for a specific transaction</h3>

<ul class="uk-tab" data-uk-switcher="{connect:'#f385c168-70e9-4347-b552-ea69db796ae4'}">

	<li class="uk-active"><a href="#">JS</a></li>

	<li><a href="#">Swift</a></li>

	<li><a href="#">Go</a></li>

	<li><a href="#">Java</a></li>

</ul>

<ul id="f385c168-70e9-4347-b552-ea69db796ae4" class="uk-switcher uk-margin">

	<li>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">txResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Transaction</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">txId</span><span class="p">);</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">tx</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Transaction</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">transactionID</span><span class="p">:</span> <span class="s">"3bfe21170de3ff1767a166896cf9c69c12534b77c75509b673d02489405a5bf1"</span><span class="p">)</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">// import bmTx "github.com/bitmark-inc/bitmark-sdk-go/tx"</span>
<span class="n">tx</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">bmTx</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"3bfe21170de3ff1767a166896cf9c69c12534b77c75509b673d02489405a5bf1"</span><span class="p">)</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Transaction</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">txId</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Callback1</span><span class="o">&lt;</span><span class="nc">GetTransactionResponse</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">GetTransactionResponse</span> <span class="n">res</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">Throwable</span> <span class="n">throwable</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</code></pre></div></div>
</li>

</ul>

<h3 id="querying-for-a-set-of-transactions">Querying for a set of transactions</h3>

<h4 id="transactions-depicting-the-provenance-of-a-bitmark">Transactions depicting the provenance of a bitmark</h4>

<p>To retrieve the set of transactions that make up provenance of a bitmark, use a bitmark as an argument. This will produce a list of transaction records that show the ownership changes of a bitmark. If a bitmark is issued by user A, and then transferred to user B then to user C, the return will include three transactions with user A, B, and C as transaction owners respectively.</p>

<ul class="uk-tab" data-uk-switcher="{connect:'#54bce30c-16d3-4527-b8a6-783186345a18'}">

	<li class="uk-active"><a href="#">JS</a></li>

	<li><a href="#">Swift</a></li>

	<li><a href="#">Go</a></li>

	<li><a href="#">Java</a></li>

</ul>

<ul id="54bce30c-16d3-4527-b8a6-783186345a18" class="uk-switcher uk-margin">

	<li>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">transactionQueryParams</span> <span class="o">=</span> <span class="nx">Transaction</span><span class="p">.</span><span class="nx">newTransactionQueryBuilder</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">referencedBitmark</span><span class="p">(</span><span class="dl">"</span><span class="s2">c8e021c1a093c32909e4d29b4624f8a5443e349a597314b7c9527ce310749121</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">build</span><span class="p">();</span>

<span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Transaction</span><span class="p">.</span><span class="nx">list</span><span class="p">(</span><span class="nx">transactionQueryParams</span><span class="p">);</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">query</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Transaction</span><span class="o">.</span><span class="nf">newTransactionQueryParams</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">referenced</span><span class="p">(</span><span class="nv">toBitmarkID</span><span class="p">:</span> <span class="s">"58737de5ad68a535da6277da62d11eb3ed76ff6dd7fc2adf3c42a4096d9a2518"</span><span class="p">)</span>
<span class="k">let</span> <span class="p">(</span><span class="nv">txs</span><span class="p">,</span> <span class="nv">_</span><span class="p">)</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Transaction</span><span class="o">.</span><span class="nf">list</span><span class="p">(</span><span class="nv">params</span><span class="p">:</span> <span class="n">query</span><span class="p">)</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">// import bmTx "github.com/bitmark-inc/bitmark-sdk-go/tx"</span>
<span class="n">params</span> <span class="o">:=</span> <span class="n">bmTx</span><span class="o">.</span><span class="n">NewQueryParamsBuilder</span><span class="p">()</span><span class="o">.</span>
    <span class="n">ReferencedBitmark</span><span class="p">(</span><span class="s">"58737de5ad68a535da6277da62d11eb3ed76ff6dd7fc2adf3c42a4096d9a2518"</span><span class="p">)</span>
<span class="n">txs</span><span class="p">,</span> <span class="n">referencedAssets</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">bmTx</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">TransactionQueryBuilder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TransactionQueryBuilder</span><span class="o">()</span>
                                <span class="o">.</span><span class="na">referencedBitmark</span><span class="o">(</span><span class="s">"58737de5ad68a535da6277da62d11eb3ed76ff6dd7fc2adf3c42a4096d9a2518"</span><span class="o">);</span>
<span class="nc">Transaction</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">builder</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Callback1</span><span class="o">&lt;</span><span class="nc">GetTransactionsResponse</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">GetTransactionsResponse</span> <span class="n">res</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">Throwable</span> <span class="n">throwable</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</code></pre></div></div>
</li>

</ul>

<h4 id="transactions-created-by-an-account">Transactions created by an account</h4>

<p>To retrieve the set of transactions initiated by the same account, use the account ID as an argument.
<!-- TODO: what does this mean? --></p>

<ul class="uk-tab" data-uk-switcher="{connect:'#6ed838fb-327b-43e3-a9f2-c4ad689efe70'}">

	<li class="uk-active"><a href="#">JS</a></li>

	<li><a href="#">Swift</a></li>

	<li><a href="#">Go</a></li>

	<li><a href="#">Java</a></li>

</ul>

<ul id="6ed838fb-327b-43e3-a9f2-c4ad689efe70" class="uk-switcher uk-margin">

	<li>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">transactionQueryParams</span> <span class="o">=</span> <span class="nx">Transaction</span><span class="p">.</span><span class="nx">newTransactionQueryBuilder</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">ownedBy</span><span class="p">(</span><span class="dl">"</span><span class="s2">eZpG6Wi9SQvpDatEP7QGrx6nvzwd6s6R8DgMKgDbDY1R5bjzb9</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">build</span><span class="p">();</span>

<span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Transaction</span><span class="p">.</span><span class="nx">list</span><span class="p">(</span><span class="nx">transactionQueryParams</span><span class="p">);</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">query</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Transaction</span><span class="o">.</span><span class="nf">newTransactionQueryParams</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">owned</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="s">"eZpG6Wi9SQvpDatEP7QGrx6nvzwd6s6R8DgMKgDbDY1R5bjzb9"</span><span class="p">,</span> <span class="nv">transient</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
<span class="k">let</span> <span class="p">(</span><span class="nv">txs</span><span class="p">,</span> <span class="nv">_</span><span class="p">)</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Transaction</span><span class="o">.</span><span class="nf">list</span><span class="p">(</span><span class="nv">params</span><span class="p">:</span> <span class="n">query</span><span class="p">)</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">// import bmTx "github.com/bitmark-inc/bitmark-sdk-go/tx"</span>
<span class="n">params</span> <span class="o">:=</span> <span class="n">bmTx</span><span class="o">.</span><span class="n">NewQueryParamsBuilder</span><span class="p">()</span><span class="o">.</span>
    <span class="n">OwnedBy</span><span class="p">(</span><span class="s">"eZpG6Wi9SQvpDatEP7QGrx6nvzwd6s6R8DgMKgDbDY1R5bjzb9"</span><span class="p">)</span>
<span class="n">txs</span><span class="p">,</span> <span class="n">referencedAssets</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">bmTx</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">TransactionQueryBuilder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TransactionQueryBuilder</span><span class="o">()</span>
                                <span class="o">.</span><span class="na">ownedBy</span><span class="o">(</span><span class="s">"eZpG6Wi9SQvpDatEP7QGrx6nvzwd6s6R8DgMKgDbDY1R5bjzb9"</span><span class="o">);</span>
<span class="nc">Transaction</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">builder</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Callback1</span><span class="o">&lt;</span><span class="nc">GetTransactionsResponse</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">GetTransactionsResponse</span> <span class="n">res</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">Throwable</span> <span class="n">throwable</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</code></pre></div></div>
</li>

</ul>

<h2 id="bitmark">Bitmark</h2>

<p>The bitmark record is a compact data structure that depicts a chain of transaction records for the same digital property.</p>

<p>When a bitmark is issued, the corresponding bitmark and transaction record are created.</p>

<p><img src="/pages/bitmark-references/bitmark-sdk/record_bitmark_issue.png" alt="bitmark record at the time of issuance" /></p>

<p>When a bitmark is transferred, more transaction records are added to the property chain and the bitmark record is updated.</p>

<p><img src="/pages/bitmark-references/bitmark-sdk/record_bitmark_transfer.png" alt="bitmark record after transfer" /></p>

<h3 id="record-data-structure-2">Record data structure</h3>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>The bitmark ID</td>
    </tr>
    <tr>
      <td>asset_id</td>
      <td>The asset ID</td>
    </tr>
    <tr>
      <td>latest_tx_id</td>
      <td>The latest tx ID</td>
    </tr>
    <tr>
      <td>issuer</td>
      <td>The account issuing the bitmark</td>
    </tr>
    <tr>
      <td>owner</td>
      <td>The account currently owning the bitmark</td>
    </tr>
    <tr>
      <td>offer</td>
      <td>A set of attributes, described under <a href="#offer-data-structure">offer</a> below.</td>
    </tr>
    <tr>
      <td>status</td>
      <td>The current status of a bitmark, which can be <code class="language-plaintext highlighter-rouge">issuing</code>, <code class="language-plaintext highlighter-rouge">transferring</code>, <code class="language-plaintext highlighter-rouge">offering</code>, or <code class="language-plaintext highlighter-rouge">settled</code>. See the following diagram for definitions.</td>
    </tr>
    <tr>
      <td>block_number</td>
      <td>The block that incorporates the latest tx of this bitmark</td>
    </tr>
    <tr>
      <td>offset</td>
      <td>An auto-incremental number that increments when the data is updated</td>
    </tr>
    <tr>
      <td>created_at</td>
      <td>The time when the bitmark was issued</td>
    </tr>
    <tr>
      <td>confirmed_at</td>
      <td>The last time when the bitmark was transferred</td>
    </tr>
  </tbody>
</table>

<p><img src="/pages/bitmark-references/bitmark-sdk/bitmark_status.png" alt="Bitmark status diagram" /></p>

<h4 id="offer-data-structure">Offer data structure</h4>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>The offer ID</td>
    </tr>
    <tr>
      <td>from</td>
      <td>The account creating the offer</td>
    </tr>
    <tr>
      <td>to</td>
      <td>The account which can accept/reject the offer</td>
    </tr>
    <tr>
      <td>record</td>
      <td>The half-signed transfer tx</td>
    </tr>
    <tr>
      <td>extra_info</td>
      <td>An attached JSON message for indicating the details of this offer</td>
    </tr>
    <tr>
      <td>created_at</td>
      <td>The create time of the offer</td>
    </tr>
  </tbody>
</table>

<h3 id="querying-for-a-specific-bitmark">Querying for a specific bitmark</h3>

<ul class="uk-tab" data-uk-switcher="{connect:'#ad951ab6-968b-4b69-bdcc-319ccf6aff1d'}">

	<li class="uk-active"><a href="#">JS</a></li>

	<li><a href="#">Swift</a></li>

	<li><a href="#">Go</a></li>

	<li><a href="#">Java</a></li>

</ul>

<ul id="ad951ab6-968b-4b69-bdcc-319ccf6aff1d" class="uk-switcher uk-margin">

	<li>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Bitmark</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">bitmarkId</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span> <span class="c1">// false: not include asset, true: include asset</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">bitmark</span> <span class="o">=</span> <span class="kt">Bitmark</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">bitmarkID</span><span class="p">:</span> <span class="n">bitmarkId</span><span class="p">);</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">// import bmBitmark "github.com/bitmark-inc/bitmark-sdk-go/bitmark"</span>
<span class="n">bitmark</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">bmBitmark</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"3bfe21170de3ff1767a166896cf9c69c12534b77c75509b673d02489405a5bf1"</span><span class="p">)</span>
</code></pre></div></div>
</li>

	<li>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Bitmark</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">bitmarkId</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Callback1</span><span class="o">&lt;</span><span class="nc">GetBitmarkResponse</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">GetBitmarkResponse</span> <span class="n">res</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">BitmarkRecord</span> <span class="n">bitmark</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="na">getBitmark</span><span class="o">();</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">Throwable</span> <span class="n">throwable</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</code></pre></div></div>
</li>

</ul>

<h3 id="querying-for-a-set-of-bitmarks">Querying for a set of bitmarks</h3>

<h4 id="bitmarks-issued-by-a-specific-issuer">Bitmarks issued by a specific issuer</h4>

<p>To list the bitmarks that are issued by the specific account number, use that account as an argument. The issuer can increase the quality of each returned bitmark.</p>

<!-- TODO: Better explain what "increase the quality" means -->
<!-- TODO: examples -->

<h4 id="bitmarks-owned-by-a-specific-owner">Bitmarks owned by a specific owner</h4>

<p>To list the bitmarks that are currently owned by the specific account number, use that account as an argument. The owner can transfer any of the returned bitmarks to any other receiver.</p>

<!-- TODO: examples -->

<h4 id="bitmarks-offered-from-the-specific-sender">Bitmarks offered from the specific sender</h4>

<p>To list the bitmarks that are offered by a sender, use that account as an argument. The sender can take action on these bitmarks (synchronise as cancel an offer).</p>

<!-- TODO: examples -->

<h4 id="bitmarks-offered-to-the-specific-receiver">bitmarks offered to the specific receiver</h4>

<p>To list the bitmarks which are offered to a receiver, use that account as an argument. The receiver can take actions on these bitmarks (such as accept or reject an offer).</p>

<!-- TODO: examples -->
</div>
        
        <div class="col-md-3">
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc" class="affix"></div>
</div>
        
    </div>



    <div class="tags">
        
    </div>




</div>

<!-- <hr class="shaded"/> -->

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               	&copy;2020 Bitmark Inc. All rights reserved.
				<br/> Powered by <a href="https://jekyllrb.com/">Jekyll</a>
<!-- <p><img src="/assets/images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div> -->
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
